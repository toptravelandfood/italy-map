<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Italy Inclusive Travel Map – TTF</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #f5f5f5; }
    header { background: #003366; color: white; padding: 15px; text-align: center; font-size: 1.4rem; font-weight: bold; }
    #filters { padding: 15px; background: white; display: flex; flex-wrap: wrap; gap: 10px; border-bottom: 1px solid #ddd; }
    #filters label { display: flex; align-items: center; gap: 5px; font-size: 0.9rem; }
    #map { width: 100%; height: 75vh; }
    .location-list { padding: 15px; background: white; }
    .location-item { padding: 10px 0; border-bottom: 1px solid #ddd; font-size: 0.95rem; }
    .popup-image { width: 100%; height: 150px; object-fit: cover; margin-bottom: 8px; border-radius: 5px; }
    .popup-title { font-weight: bold; font-size: 1rem; margin-bottom: 5px; }
    .popup-bullets { margin: 0; padding-left: 20px; font-size: 0.9rem; }
    footer { background: #003366; color: white; padding: 20px; text-align: center; font-size: 0.9rem; }
  </style>
</head>
<body>

<header>TTF – Top Travel & Food | Italy Inclusive Travel Map</header>

<section id="filters">
  <label><input type="checkbox" class="filter" value="wheelchair"> Wheelchair Accessible</label>
  <label><input type="checkbox" class="filter" value="braille"> Braille Available</label>
  <label><input type="checkbox" class="filter" value="blind"> Blind-Friendly</label>
  <label><input type="checkbox" class="filter" value="senior"> Senior-Friendly</label>
  <label><input type="checkbox" class="filter" value="low-mobility"> Low Mobility Access</label>
</section>

<div id="map"></div>
<div class="location-list" id="locationList"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
  // --------------------------- INITIALIZE MAP ---------------------------
  var map = L.map("map").setView([41.9028, 12.4964], 6); // Centered in Italy
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", { maxZoom: 19 }).addTo(map);

  // --------------------------- LOCATIONS DATA ---------------------------
  const locations = [
    {
      name: "Colosseum – Rome",
      coords: [41.8902, 12.4922],
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/de/Colosseo_2020.jpg/320px-Colosseo_2020.jpg",
      highlights: ["Iconic ancient Roman amphitheater", "Wheelchair accessible", "Guided tours available"],
      accessibility: ["wheelchair", "senior"]
    },
    {
      name: "Florence Cathedral",
      coords: [43.7731, 11.2556],
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/Florence_Cathedral_2007.JPG/320px-Florence_Cathedral_2007.JPG",
      highlights: ["Stunning Renaissance architecture", "Low-mobility access", "Historical artworks inside"],
      accessibility: ["low-mobility", "senior"]
    },
    {
      name: "Venice Vaporetto Line 1",
      coords: [45.4408, 12.3155],
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Venice_Vaporetto.jpg/320px-Venice_Vaporetto.jpg",
      highlights: ["Scenic boat ride", "Wheelchair accessible stops", "Best way to see Grand Canal"],
      accessibility: ["wheelchair"]
    },
    {
      name: "Turin Egyptian Museum",
      coords: [45.0686, 7.6845],
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Museo_Egizio_Torino.JPG/320px-Museo_Egizio_Torino.JPG",
      highlights: ["Ancient Egyptian artifacts", "Braille guides available", "Accessible ramps"],
      accessibility: ["wheelchair", "braille", "blind"]
    },
    {
      name: "Pompeii Ruins",
      coords: [40.7485, 14.4847],
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Pompeii_amphitheater.jpg/320px-Pompeii_amphitheater.jpg",
      highlights: ["Preserved Roman city", "Guided tours", "Wheelchair accessible areas"],
      accessibility: ["wheelchair", "senior"]
    },
    {
      name: "Milan Cathedral",
      coords: [45.4642, 9.1916],
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Milano_Duomo.jpg/320px-Milano_Duomo.jpg",
      highlights: ["Gothic masterpiece", "Low-mobility ramps", "Roof terrace views"],
      accessibility: ["low-mobility", "senior"]
    },
    {
      name: "Siena Piazza del Campo",
      coords: [43.3188, 11.3308],
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Piazza_del_Campo_Siena.jpg/320px-Piazza_del_Campo_Siena.jpg",
      highlights: ["Historic town square", "Wheelchair friendly paths", "Annual Palio horse race"],
      accessibility: ["wheelchair", "senior"]
    }
  ];

  // --------------------------- MARKERS & FILTER LOGIC ---------------------------
  let markers = [];

  function renderMap() {
    // Remove previous markers
    markers.forEach(m => map.removeLayer(m));
    markers = [];

    const activeFilters = [...document.querySelectorAll(".filter:checked")].map(el => el.value);
    const listContainer = document.getElementById("locationList");
    listContainer.innerHTML = "";

    locations.forEach(loc => {
      if (activeFilters.length > 0 && !activeFilters.every(f => loc.accessibility.includes(f))) return;

      const popupContent = `
        <img src="${loc.image}" class="popup-image" alt="${loc.name}">
        <div class="popup-title">${loc.name}</div>
        <ul class="popup-bullets">
          ${loc.highlights.map(h => `<li>${h}</li>`).join("")}
        </ul>
      `;

      const marker = L.marker(loc.coords).addTo(map).bindPopup(popupContent);
      markers.push(marker);

      const item = document.createElement("div");
      item.className = "location-item";
      item.innerHTML = `<b>${loc.name}</b> – Accessibility: ${loc.accessibility.join(", ")}`;
      listContainer.appendChild(item);
    });
  }

  // Event listeners for filters
  document.querySelectorAll(".filter").forEach(filter => {
    filter.addEventListener("change", renderMap);
  });

  // Initial render
  renderMap();
</script>

<footer>
  TTF – Top Travel & Food | Contact: <a href="mailto:contact@toptravelandfood.com" style="color: #ffd700;">contact@toptravelandfood.com</a>
</footer>

</body>
</html>
